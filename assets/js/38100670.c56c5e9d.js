"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[3914],{2629:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>l,frontMatter:()=>r,metadata:()=>a,toc:()=>h});var o=i(4848),n=i(8453);const r={},s="API",a={id:"artifact_repositories/api",title:"API",description:"This section provides additional instructions for usage of Phylum's Artifact",source:"@site/../docs/artifact_repositories/api.md",sourceDirName:"artifact_repositories",slug:"/artifact_repositories/api",permalink:"/artifact_repositories/api",draft:!1,unlisted:!1,editUrl:"https://github.com/phylum-dev/documentation/edit/main/docs/artifact_repositories/api.md",tags:[],version:"current",lastUpdatedBy:"Christian D\xfcrr",lastUpdatedAt:1730224048e3,frontMatter:{},sidebar:"docsSidebar",previous:{title:"Phylum RubyGems Registry",permalink:"/artifact_repositories/rubygems"},next:{title:"Policy",permalink:"/knowledge_base/policy"}},c={},h=[{value:"Authentication",id:"authentication",level:2},{value:"Webhooks",id:"webhooks",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"api",children:"API"})}),"\n",(0,o.jsxs)(t.p,{children:["This section provides additional instructions for usage of Phylum's Artifact\nRepository API. The full API is documented on ",(0,o.jsx)(t.a,{href:"https://swagger.phylum.io/?urls.primaryName=Artifact+Repository+API",children:"Swagger"}),"."]}),"\n",(0,o.jsx)(t.h2,{id:"authentication",children:"Authentication"}),"\n",(0,o.jsxs)(t.p,{children:["The Artifact Repository API expects authentication in the basic auth format. The\nusername is optional and provides context for which group should be used for the\nrequest. The group must either be the group name itself, for standalone groups,\nor the organization and group name combined using a ",(0,o.jsx)(t.code,{children:"/"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["The following script will create a valid authorization token for the org\n",(0,o.jsx)(t.code,{children:"phylum"}),", group ",(0,o.jsx)(t.code,{children:"demo"}),", and with the token stored in ",(0,o.jsx)(t.code,{children:"$PHYLUM_API_KEY"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sh",children:'echo "Basic $(printf \\"phylum/demo:$PHYLUM_API_KEY\\" | base64)"\n'})}),"\n",(0,o.jsx)(t.h2,{id:"webhooks",children:"Webhooks"}),"\n",(0,o.jsx)(t.p,{children:"Webhooks will send out notifications whenever a package that was accessed\nthrough a repository proxy fails analysis."}),"\n",(0,o.jsxs)(t.p,{children:["Once a webhook is ",(0,o.jsx)(t.a,{href:"https://swagger.phylum.io/?urls.primaryName=Artifact+Repository+API#/default/add_webhook",children:"registered"}),", policy violations\nwill be sent to it in the same format as the ",(0,o.jsx)(t.a,{href:"https://swagger.phylum.io/?urls.primaryName=API#/Organizations/organizations_group_packages_check",children:"package check endpoint"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["Since these reports contain security advisories, it's important to make sure\nthat they were generated by Phylum and the endpoint wasn't called by a third\nparty. To make this possible, all official webhook notification calls will\ninclude a ",(0,o.jsx)(t.code,{children:"sha256"})," query parameter which contains a hexadecimal representation\nof the SHA256-HMAC of the response body, generated with the shared secret\nprovided when registering the webhook. This checksum ",(0,o.jsx)(t.strong,{children:"must"})," be validated\nbefore accepting the authority of new webhook events."]})]})}function l(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,t,i)=>{i.d(t,{R:()=>s,x:()=>a});var o=i(6540);const n={},r=o.createContext(n);function s(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);