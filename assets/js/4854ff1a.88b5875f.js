"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([["8811"],{6323:function(e,t,n){n.r(t),n.d(t,{frontMatter:()=>a,default:()=>f,contentTitle:()=>i,assets:()=>u,toc:()=>c,metadata:()=>r});var r=JSON.parse('{"id":"knowledge_base/api-keys","title":"API Keys","description":"API keys provide you with the ability to authenticate with the Phylum API without requiring user credentials. API keys are well suited for CI/CD environments where you may not want to disclose your account information.","source":"@site/../docs/knowledge_base/api-keys.md","sourceDirName":"knowledge_base","slug":"/knowledge_base/api-keys","permalink":"/knowledge_base/api-keys","draft":false,"unlisted":false,"editUrl":"https://github.com/phylum-dev/documentation/edit/main/docs/knowledge_base/api-keys.md","tags":[],"version":"current","lastUpdatedBy":"Charles Coggins","lastUpdatedAt":1703286129000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Account Federation","permalink":"/knowledge_base/federate_account"},"next":{"title":"Continuous Monitoring","permalink":"/knowledge_base/continuous_monitoring"}}'),o=n(5893),s=n(65);let a={},i="API Keys",u={},c=[{value:"Generate an API key",id:"generate-an-api-key",level:2},{value:"Using an API key",id:"using-an-api-key",level:2},{value:"API keys in the Phylum CLI",id:"api-keys-in-the-phylum-cli",level:2},{value:"OpenID Connect vs API keys",id:"openid-connect-vs-api-keys",level:2}];function l(e){let t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"api-keys",children:"API Keys"})}),"\n",(0,o.jsx)(t.p,{children:"API keys provide you with the ability to authenticate with the Phylum API without requiring user credentials. API keys are well suited for CI/CD environments where you may not want to disclose your account information."}),"\n",(0,o.jsx)(t.h2,{id:"generate-an-api-key",children:"Generate an API key"}),"\n",(0,o.jsxs)(t.p,{children:["API keys can be generated in the ",(0,o.jsx)(t.a,{href:"https://app.phylum.io/tokens/list",children:"Phylum web UI"}),' by clicking on the user menu in the top right and selecting "API Access Tokens"']}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"user menu",src:n(2610).Z+"",width:"338",height:"549"})}),"\n",(0,o.jsx)(t.p,{children:"You will be prompted to provide a name for the new key and then will be given a chance to copy the newly generated API key."}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"\u26A0\uFE0F For security, there is no way to retrieve the value of an API key after initial generation. It is up to the user to securely store the key for later use."}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"using-an-api-key",children:"Using an API key"}),"\n",(0,o.jsx)(t.p,{children:"To use a token for authentication, include it as a bearer token on your API requests. For example:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sh-session",children:'> API_KEY=ph0_abcdefghijklmnopqrstuvwxyz0123456789ABCDEFG\n> curl -H "Authorization: Bearer $API_KEY" \'https://api.phylum.io/api/v0/groups\'\n{"groups":[]}\n'})}),"\n",(0,o.jsx)(t.h2,{id:"api-keys-in-the-phylum-cli",children:"API keys in the Phylum CLI"}),"\n",(0,o.jsx)(t.p,{children:"The CLI generates and stores an API key for its own use. This happens automatically upon first use, but it can also be prompted like so:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sh",children:"phylum auth login\n"})}),"\n",(0,o.jsxs)(t.p,{children:["The API key is stored in the ",(0,o.jsx)(t.code,{children:"settings.yaml"})," file. The following command can be used to retrieve your token value:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sh",children:"phylum auth token\n"})}),"\n",(0,o.jsxs)(t.p,{children:["If you are using the CLI in an environment where a ",(0,o.jsx)(t.code,{children:"settings.yaml"})," file is not available (e.g., CI, scripts, etc.), you can provide an API key to CLI via the ",(0,o.jsx)(t.code,{children:"PHYLUM_API_KEY"})," environment variable. If both the config file and environment variable are present, the key from the environment variable will be used."]}),"\n",(0,o.jsx)(t.h2,{id:"openid-connect-vs-api-keys",children:"OpenID Connect vs API keys"}),"\n",(0,o.jsx)(t.p,{children:"Phylum APIs also support OAuth tokens via OpenID Connect. In fact, the Phylum CLI still supports using OAuth refresh tokens as the API key. However, these refresh tokens cannot be used directly against the Phylum APIs. Instead, the refresh token is used to get an access token from the OAuth provider and that access token is then used as the bearer token to make API requests."}),"\n",(0,o.jsx)(t.p,{children:"If your CLI is using refresh tokens, you can get an access token for use in API requests using the following command:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sh",children:"phylum auth token --bearer\n"})}),"\n",(0,o.jsxs)(t.p,{children:["But that access token is only valid for about 6 minutes. If you find yourself regularly needing this, consider using ",(0,o.jsx)(t.a,{href:"/cli/extensions/extension_rest_api",children:"a CLI extension"})," to make your API requests."]}),"\n",(0,o.jsx)(t.p,{children:"If you don't want your CLI to use refresh tokens, update to the latest version and re-authenticate:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sh",children:"phylum auth login\n"})})]})}function f(e={}){let{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},5251:function(e,t,n){var r=n(7294),o=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:l,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},2408:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,m={};function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function v(){}function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=k.prototype;var b=g.prototype=new v;b.constructor=g,y(b,k.prototype),b.isPureReactComponent=!0;var _=Array.isArray,I=Object.prototype.hasOwnProperty,w={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,r){var o,s={},a=null,i=null;if(null!=t)for(o in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(a=""+t.key),t)I.call(t,o)&&!x.hasOwnProperty(o)&&(s[o]=t[o]);var u=arguments.length-2;if(1===u)s.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];s.children=c}if(e&&e.defaultProps)for(o in u=e.defaultProps)void 0===s[o]&&(s[o]=u[o]);return{$$typeof:n,type:e,key:a,ref:i,props:s,_owner:w.current}}function j(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function C(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function S(e,t,o){if(null==e)return e;var s=[],a=0;return!function e(t,o,s,a,i){var u,c,l,f=typeof t;("undefined"===f||"boolean"===f)&&(t=null);var p=!1;if(null===t)p=!0;else switch(f){case"string":case"number":p=!0;break;case"object":switch(t.$$typeof){case n:case r:p=!0}}if(p)return i=i(p=t),t=""===a?"."+C(p,0):a,_(i)?(s="",null!=t&&(s=t.replace(A,"$&/")+"/"),e(i,o,s,"",function(e){return e})):null!=i&&(j(i)&&(u=i,c=s+(!i.key||p&&p.key===i.key?"":(""+i.key).replace(A,"$&/")+"/")+t,i={$$typeof:n,type:u.type,key:c,ref:u.ref,props:u.props,_owner:u._owner}),o.push(i)),1;if(p=0,a=""===a?".":a+":",_(t))for(var h=0;h<t.length;h++){var y=a+C(f=t[h],h);p+=e(f,o,s,y,i)}else if("function"==typeof(y=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=d&&l[d]||l["@@iterator"])?l:null))for(t=y.call(t),h=0;!(f=t.next()).done;)y=a+C(f=f.value,h++),p+=e(f,o,s,y,i);else if("object"===f)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(o=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return p}(e,s,"","",function(e){return t.call(o,e,a++)}),s}function E(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null};function $(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:S,forEach:function(e,t,n){S(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return S(e,function(){t++}),t},toArray:function(e){return S(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=k,t.Fragment=o,t.Profiler=a,t.PureComponent=g,t.StrictMode=s,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:w},t.act=$,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=y({},e.props),s=e.key,a=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,i=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)I.call(t,c)&&!x.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}return{$$typeof:n,type:e.type,key:s,ref:a,props:o,_owner:i}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=P,t.createFactory=function(e){var t=P.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=$,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},7294:function(e,t,n){e.exports=n(2408)},5893:function(e,t,n){e.exports=n(5251)},2610:function(e,t,n){n.d(t,{Z:()=>r});let r=n.p+"assets/images/user-menu-af2a67cd35e9b89ee6acb116c0b1d08f.png"},65:function(e,t,n){n.d(t,{Z:()=>i,a:()=>a});var r=n(7294);let o={},s=r.createContext(o);function a(e){let t=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);