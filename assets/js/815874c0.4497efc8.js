"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([["3683"],{2626:function(e,t,r){r.r(t),r.d(t,{frontMatter:()=>i,default:()=>f,contentTitle:()=>u,assets:()=>s,toc:()=>c,metadata:()=>n});var n=JSON.parse('{"id":"package_firewall/api","title":"API","description":"This section provides additional instructions for usage of Phylum\'s Package","source":"@site/../docs/package_firewall/api.md","sourceDirName":"package_firewall","slug":"/package_firewall/api","permalink":"/package_firewall/api","draft":false,"unlisted":false,"editUrl":"https://github.com/phylum-dev/documentation/edit/main/docs/package_firewall/api.md","tags":[],"version":"current","lastUpdatedBy":"Charles Coggins","lastUpdatedAt":1741109460000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Phylum RubyGems Registry","permalink":"/package_firewall/rubygems"},"next":{"title":"Frequently Asked Questions","permalink":"/package_firewall/faq"}}'),o=r(5893),a=r(65);let i={},u="API",s={},c=[{value:"Authentication",id:"authentication",level:2},{value:"Webhooks",id:"webhooks",level:2}];function l(e){let t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,a.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"api",children:"API"})}),"\n",(0,o.jsxs)(t.p,{children:["This section provides additional instructions for usage of Phylum's Package\nFirewall API. The full API is documented on ",(0,o.jsx)(t.a,{href:"https://swagger.phylum.io/?urls.primaryName=Package+Firewall+API",children:"Swagger"}),"."]}),"\n",(0,o.jsx)(t.h2,{id:"authentication",children:"Authentication"}),"\n",(0,o.jsxs)(t.p,{children:["The Package Firewall API expects authentication in the basic auth format. The\nusername is optional and provides context for which group should be used for the\nrequest. The group must either be the group name itself, for standalone groups,\nor the organization and group name combined using a ",(0,o.jsx)(t.code,{children:"/"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["The following script will create a valid authorization token for the org\n",(0,o.jsx)(t.code,{children:"phylum"}),", group ",(0,o.jsx)(t.code,{children:"demo"}),", and with the token stored in ",(0,o.jsx)(t.code,{children:"$PHYLUM_API_KEY"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sh",children:'echo "Basic $(printf \\"phylum/demo:$PHYLUM_API_KEY\\" | base64)"\n'})}),"\n",(0,o.jsx)(t.h2,{id:"webhooks",children:"Webhooks"}),"\n",(0,o.jsx)(t.p,{children:"Webhooks will send out notifications whenever a package that was accessed\nthrough a repository proxy fails analysis."}),"\n",(0,o.jsxs)(t.p,{children:["Once a webhook is ",(0,o.jsx)(t.a,{href:"https://swagger.phylum.io/?urls.primaryName=Package+Firewall+API#/default/add_webhook",children:"registered"}),", policy violations\nwill be sent to it in the same format as the ",(0,o.jsx)(t.a,{href:"https://swagger.phylum.io/?urls.primaryName=API#/Organizations/organizations_group_packages_check",children:"package check endpoint"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["Since these reports contain security advisories, it's important to make sure\nthat they were generated by Phylum and the endpoint wasn't called by a third\nparty. To make this possible, all official webhook notification calls will\ninclude a ",(0,o.jsx)(t.code,{children:"sha256"})," query parameter which contains a hexadecimal representation\nof the SHA256-HMAC of the response body, generated with the shared secret\nprovided when registering the webhook. This checksum ",(0,o.jsx)(t.strong,{children:"must"})," be validated\nbefore accepting the authority of new webhook events."]})]})}function f(e={}){let{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},5251:function(e,t,r){var n=r(7294),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,u=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,a={},c=null,l=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)i.call(t,n)&&!s.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},2408:function(e,t){var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,m={};function _(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||h}function g(){}function b(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||h}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=_.prototype;var v=b.prototype=new g;v.constructor=b,y(v,_.prototype),v.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,x={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var o,a={},i=null,u=null;if(null!=t)for(o in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,o)&&!j.hasOwnProperty(o)&&(a[o]=t[o]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(o in s=e.defaultProps)void 0===a[o]&&(a[o]=s[o]);return{$$typeof:r,type:e,key:i,ref:u,props:a,_owner:x.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function C(e,t){var r,n;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36)}function R(e,t,o){if(null==e)return e;var a=[],i=0;return!function e(t,o,a,i,u){var s,c,l,f=typeof t;("undefined"===f||"boolean"===f)&&(t=null);var p=!1;if(null===t)p=!0;else switch(f){case"string":case"number":p=!0;break;case"object":switch(t.$$typeof){case r:case n:p=!0}}if(p)return u=u(p=t),t=""===i?"."+C(p,0):i,w(u)?(a="",null!=t&&(a=t.replace(E,"$&/")+"/"),e(u,o,a,"",function(e){return e})):null!=u&&(P(u)&&(s=u,c=a+(!u.key||p&&p.key===u.key?"":(""+u.key).replace(E,"$&/")+"/")+t,u={$$typeof:r,type:s.type,key:c,ref:s.ref,props:s.props,_owner:s._owner}),o.push(u)),1;if(p=0,i=""===i?".":i+":",w(t))for(var h=0;h<t.length;h++){var y=i+C(f=t[h],h);p+=e(f,o,a,y,u)}else if("function"==typeof(y=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=d&&l[d]||l["@@iterator"])?l:null))for(t=y.call(t),h=0;!(f=t.next()).done;)y=i+C(f=f.value,h++),p+=e(f,o,a,y,u);else if("object"===f)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(o=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return p}(e,a,"","",function(e){return t.call(o,e,i++)}),a}function $(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},I={transition:null};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,r){R(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=_,t.Fragment=o,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:I,ReactCurrentOwner:x},t.act=O,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=y({},e.props),a=e.key,i=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)k.call(t,c)&&!j.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];o.children=s}return{$$typeof:r,type:e.type,key:a,ref:i,props:o,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:$}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,r){return A.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,r){return A.current.useReducer(e,t,r)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return A.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},7294:function(e,t,r){e.exports=r(2408)},5893:function(e,t,r){e.exports=r(5251)},65:function(e,t,r){r.d(t,{Z:()=>u,a:()=>i});var n=r(7294);let o={},a=n.createContext(o);function i(e){let t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function u(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);