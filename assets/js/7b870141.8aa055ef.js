"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([["3972"],{3868:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>o,default:()=>d,contentTitle:()=>l,assets:()=>a,toc:()=>c,metadata:()=>i});var i=JSON.parse('{"id":"phylum-ci/bitbucket_pipelines","title":"Bitbucket Pipelines Integration","description":"Quickstart","source":"@site/../docs/phylum-ci/bitbucket_pipelines.md","sourceDirName":"phylum-ci","slug":"/phylum-ci/bitbucket_pipelines","permalink":"/phylum-ci/bitbucket_pipelines","draft":false,"unlisted":false,"editUrl":"https://github.com/phylum-dev/phylum-ci/edit/main/docs/integrations/bitbucket_pipelines.md","tags":[],"version":"current","lastUpdatedBy":"Charles Coggins","lastUpdatedAt":1742485159000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Azure Pipelines Integration","permalink":"/phylum-ci/azure_pipelines"},"next":{"title":"Dazz Integration","permalink":"/integrations/dazz"}}'),r=t(5893),s=t(65);let o={},l="Bitbucket Pipelines Integration",a={},c=[{value:"Quickstart",id:"quickstart",level:2},{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Configure <code>bitbucket-pipelines.yml</code>",id:"configure-bitbucket-pipelinesyml",level:2},{value:"User-defined variables",id:"user-defined-variables",level:3},{value:"Pipeline start conditions",id:"pipeline-start-conditions",level:3},{value:"Step name",id:"step-name",level:3},{value:"Docker image selection",id:"docker-image-selection",level:3},{value:"Git clone behavior",id:"git-clone-behavior",level:3},{value:"Script arguments",id:"script-arguments",level:3},{value:"Exit Codes",id:"exit-codes",level:3},{value:"Alternatives",id:"alternatives",level:2}];function u(e){let n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"bitbucket-pipelines-integration",children:"Bitbucket Pipelines Integration"})}),"\n",(0,r.jsx)(n.h2,{id:"quickstart",children:"Quickstart"}),"\n",(0,r.jsxs)(n.p,{children:['Add the following "Phylum Analyze" step to a ',(0,r.jsx)(n.code,{children:"bitbucket-pipelines.yml"})," configuration, in one or more pipeline start\nconditions:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# Ensure these variables are set at the repository or workspace level:\n#  - `PHYLUM_API_KEY`: Phylum authentication token\n#  - `BITBUCKET_TOKEN`: repository, project, or workspace access token with\n#                       `pullrequest` (read) scope. It is not needed when in\n#                       audit mode or when comment generation is disabled.\n\n    - step:\n        name: Phylum Analyze\n        image: phylumio/phylum-ci:latest\n        clone:\n          depth: full\n        script:\n          - phylum-ci -vv\n"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"Once configured for a repository, the Bitbucket Pipelines integration will provide analysis of project\ndependencies from manifests and lockfiles. This can happen in a branch or default pipeline as a result of a commit\nor in a pull request (PR) pipeline."}),"\n",(0,r.jsx)(n.p,{children:"For PR pipelines, analyzed dependencies will include any that are added/modified in the PR."}),"\n",(0,r.jsxs)(n.p,{children:["For branch pipelines, the analyzed dependencies will be determined by comparing dependency files in the branch to\nthe default branch. ",(0,r.jsx)(n.strong,{children:"All"})," dependencies will be analyzed when the branch pipeline is run on the default branch."]}),"\n",(0,r.jsx)(n.p,{children:"The results will be provided in the pipeline logs and provided as a comment on the PR unless the option to skip\ncomments is provided. The CI job will return an error (i.e., fail the build) if any of the analyzed dependencies fail\nto meet the established policy unless audit mode is specified."}),"\n",(0,r.jsxs)(n.p,{children:["There will be no comment if no dependencies were added or modified for a given PR.\nThere will be no comment when the results of the analysis are successful.\nIf one or more dependencies are still processing (no results available), then the comment will make that clear and\nthe CI job will only fail if dependencies that have ",(0,r.jsx)(n.em,{children:"completed analysis results"})," do not meet the active policy."]}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.p,{children:["Bitbucket Cloud is supported for repositories hosted on ",(0,r.jsx)(n.a,{href:"https://bitbucket.org/",children:"https://bitbucket.org/"}),".\nBitbucket Data Center is not currently supported."]}),"\n",(0,r.jsx)(n.p,{children:"The Bitbucket Pipelines environment is primarily supported through the use of a Docker image. The prerequisites\nfor using this image are:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Access to the ",(0,r.jsxs)(n.a,{href:"https://hub.docker.com/r/phylumio/phylum-ci/tags",children:[(0,r.jsx)(n.code,{children:"phylumio/phylum-ci"})," Docker image"]})]}),"\n",(0,r.jsxs)(n.li,{children:["A ",(0,r.jsx)(n.a,{href:"https://developer.atlassian.com/cloud/bitbucket/rest/intro/#access-tokens",children:"Bitbucket access token"})," with API access\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["This is only required when:\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Using the integration in pull request pipelines"}),"\n",(0,r.jsx)(n.li,{children:"Comment generation has not been skipped"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["The token needs the ",(0,r.jsx)(n.code,{children:"pullrequest"})," (read) scope"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["A ",(0,r.jsx)(n.a,{href:"/knowledge_base/api-keys",children:"Phylum token"})," with API access\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://phylum.io/contact-us/",children:"Contact Phylum"})," or ",(0,r.jsx)(n.a,{href:"https://app.phylum.io/register",children:"register"})," to gain access\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["See also ",(0,r.jsx)(n.a,{href:"/cli/commands/phylum_auth_register",children:(0,r.jsx)(n.code,{children:"phylum auth register"})})," command documentation"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Consider using a bot or group account for this token"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Access to the Phylum API endpoints\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"That usually means a connection to the internet, optionally via a proxy"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"configure-bitbucket-pipelinesyml",children:["Configure ",(0,r.jsx)(n.code,{children:"bitbucket-pipelines.yml"})]}),"\n",(0,r.jsx)(n.p,{children:"Phylum analysis of dependencies can be added to existing CI workflows or on it's own with this minimal configuration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# Ensure these variables are set at the repository or workspace level:\n#  - `PHYLUM_API_KEY`: Phylum authentication token\n#  - `BITBUCKET_TOKEN`: repository, project, or workspace access token with\n#                       `pullrequest` (read) scope. It is not needed when in\n#                       audit mode or when comment generation is disabled.\n\npipelines:\n  pull-requests:\n    '**':\n      - step:\n          name: Phylum Analyze PR\n          image: phylumio/phylum-ci:latest\n          clone:\n            depth: full\n          script:\n            - phylum-ci -vv\n  default:\n    - step:\n        name: Phylum Analyze branch\n        image: phylumio/phylum-ci:latest\n        clone:\n          depth: full\n        script:\n          - phylum-ci -vv\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This configuration contains pipeline definitions for the ",(0,r.jsx)(n.code,{children:"pull-requests"})," and ",(0,r.jsx)(n.code,{children:"default"})," start conditions. It will\nrun for ",(0,r.jsx)(n.em,{children:"all"})," pull requests and pushes to ",(0,r.jsx)(n.em,{children:"any"})," branch. It provides debug output but otherwise does not override any of\nthe ",(0,r.jsx)(n.code,{children:"phylum-ci"})," arguments, which are all either optional or default to secure values. Let's take a deeper dive into\neach part of the configuration:"]}),"\n",(0,r.jsx)(n.h3,{id:"user-defined-variables",children:"User-defined variables"}),"\n",(0,r.jsxs)(n.p,{children:["There are several user-defined variables needed to ensure the ",(0,r.jsx)(n.code,{children:"phylum-ci"})," tool is able to perform it's job. Ensure\nthese variables are set at the repository or workspace level. See the ",(0,r.jsx)(n.a,{href:"https://support.atlassian.com/bitbucket-cloud/docs/variables-and-secrets/#User-defined-variables",children:"user-defined variables"})," documentation\nfor more info."]}),"\n",(0,r.jsxs)(n.p,{children:["A ",(0,r.jsx)(n.a,{href:"/knowledge_base/api-keys",children:"Phylum token"})," with API access is required to perform analysis on project dependencies.\n",(0,r.jsx)(n.a,{href:"https://phylum.io/contact-us/",children:"Contact Phylum"})," or ",(0,r.jsx)(n.a,{href:"https://app.phylum.io/register",children:"register"})," to gain access.\nSee also ",(0,r.jsx)(n.a,{href:"/cli/commands/phylum_auth_register",children:(0,r.jsx)(n.code,{children:"phylum auth register"})})," command documentation and consider using a bot or group account\nfor this token. Provide the token value in a user-defined variable named ",(0,r.jsx)(n.code,{children:"PHYLUM_API_KEY"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["A Bitbucket token with API access is required to use the API (e.g., to post comments). This can be a repository,\nproject, or workspace access token. The token needs the ",(0,r.jsx)(n.code,{children:"pullrequest"})," (read) scope. The name given to the token\nwill be the one that appears to post the comments on the PR. Therefore, it might be worth naming it something like\n",(0,r.jsx)(n.code,{children:"Phylum Analysis"}),". See the ",(0,r.jsx)(n.a,{href:"https://developer.atlassian.com/cloud/bitbucket/rest/intro/#access-tokens",children:"Bitbucket Access Tokens"})," documentation for more info."]}),"\n",(0,r.jsxs)(n.p,{children:["Note, the Bitbucket token is only required when this Phylum integration is used in\n",(0,r.jsx)(n.a,{href:"https://support.atlassian.com/bitbucket-cloud/docs/pipeline-start-conditions/#Pull-Requests",children:"pull request pipelines"})," where comment generation is not skipped. It is not required when used in branch\nbased pipelines. Provide the token value in a user-defined variable named ",(0,r.jsx)(n.code,{children:"BITBUCKET_TOKEN"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Values for the ",(0,r.jsx)(n.code,{children:"BITBUCKET_TOKEN"})," and ",(0,r.jsx)(n.code,{children:"PHYLUM_API_KEY"})," variables are sensitive and should be set as a\n",(0,r.jsx)(n.a,{href:"https://support.atlassian.com/bitbucket-cloud/docs/variables-and-secrets/#Secured-variables",children:"secured variable"}),". ",(0,r.jsx)(n.strong,{children:"Care should be taken to protect them appropriately"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"pipeline-start-conditions",children:"Pipeline start conditions"}),"\n",(0,r.jsxs)(n.p,{children:["There are a handful of different ",(0,r.jsx)(n.a,{href:"https://support.atlassian.com/bitbucket-cloud/docs/pipeline-start-conditions/",children:"pipeline start conditions"})," available to trigger CI. The Phylum\nanalysis step can be included in most of these, or even multiple start conditions. The exceptions ",(0,r.jsx)(n.em,{children:"may"})," be ",(0,r.jsx)(n.code,{children:"tags"})," and\n",(0,r.jsx)(n.code,{children:"custom"})," pipelines. The example configuration adds the step to both the ",(0,r.jsx)(n.code,{children:"pull-requests"})," and ",(0,r.jsx)(n.code,{children:"default"})," pipelines:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"pipelines:\n  # Pipeline definition for pull requests\n  pull-requests:\n    '**':   # Glob pattern to specify all branches\n      - step:\n          # Add the Phylum Analyze step here\n\n  # Pipeline definition for all branches that don't\n  # match a pipeline definition in other sections\n  default:\n    - step:\n        # Add the Phylum Analyze step here\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If the ",(0,r.jsx)(n.code,{children:"default"})," pipeline start condition is not used, it is recommended to at least enable the ",(0,r.jsx)(n.code,{children:"branches"})," pipeline\nstart condition for the default branch. That way, Phylum analysis results will stay current with updates to the default\nbranch."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"pipelines:\n  # Pipeline definition for specific branches\n  branches:\n    main:   # The name of the default branch\n      - step:\n          # Add the Phylum Analyze step here\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-name",children:"Step name"}),"\n",(0,r.jsxs)(n.p,{children:["The step name is optional, can be named what you like, and have different names depending on the pipeline context.\nSee the ",(0,r.jsxs)(n.a,{href:"https://support.atlassian.com/bitbucket-cloud/docs/step-options/#Name",children:[(0,r.jsx)(n.code,{children:"name"})," step option"]})," documentation for more information."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"pipelines:\n  pull-requests:\n    '**':\n      - step:\n          name: Phylum Analyze PR    # Name this what you like\n\n  default:\n    - step:\n        name: Phylum Analyze branch  # Name this what you like\n"})}),"\n",(0,r.jsx)(n.h3,{id:"docker-image-selection",children:"Docker image selection"}),"\n",(0,r.jsxs)(n.p,{children:["Choose the Docker image tag to match your comfort level with image dependencies. ",(0,r.jsx)(n.code,{children:"latest"}),' is a "rolling" tag that\nwill point to the image created for the latest released ',(0,r.jsx)(n.code,{children:"phylum-ci"})," Python package. A particular version tag\n(e.g., ",(0,r.jsx)(n.code,{children:"0.42.4-CLIv6.1.2"}),") is created for each release of the ",(0,r.jsx)(n.code,{children:"phylum-ci"})," Python package and ",(0,r.jsx)(n.em,{children:"should"})," not change\nonce published."]}),"\n",(0,r.jsxs)(n.p,{children:["However, to be certain that the image does not change...or be warned when it does because it won't be available\nanymore...use the SHA256 digest of the tag. The digest can be found by looking at the ",(0,r.jsx)(n.code,{children:"phylumio/phylum-ci"}),"\n",(0,r.jsx)(n.a,{href:"https://hub.docker.com/r/phylumio/phylum-ci/tags",children:"tags on Docker Hub"})," or with the command:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:'# NOTE: The command-line JSON processor `jq` is used here for the sake of a one line example. It is not required.\n\u276F docker manifest inspect --verbose phylumio/phylum-ci:0.42.4-CLIv6.1.2 | jq .Descriptor.digest\n"sha256:77b761ccef10edc28b0f009a40fbeab240bf004522edaaea05572dc3728b6ca6"\n'})}),"\n",(0,r.jsx)(n.p,{children:"For instance, at the time of this writing, all of these tag references pointed to the same image:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"  # NOTE: These are examples. Only one image line for `phylum-ci` is expected.\n\n  # Not specifying a tag means a default of `latest`\n  image: phylumio/phylum-ci\n\n  # Be more explicit about wanting the `latest` tag\n  image: phylumio/phylum-ci:latest\n\n  # Use a specific release version of the `phylum-ci` package\n  image: phylumio/phylum-ci:0.42.4-CLIv6.1.2\n\n  # Use a specific image with it's SHA256 digest\n  image: phylumio/phylum-ci@sha256:77b761ccef10edc28b0f009a40fbeab240bf004522edaaea05572dc3728b6ca6\n"})}),"\n",(0,r.jsx)(n.p,{children:"Only the last tag reference, by SHA256 digest, is guaranteed to not have the underlying image it points to change."}),"\n",(0,r.jsxs)(n.p,{children:["The default ",(0,r.jsx)(n.code,{children:"phylum-ci"})," Docker image contains ",(0,r.jsx)(n.code,{children:"git"})," and the installed ",(0,r.jsx)(n.code,{children:"phylum"})," Python package. It also contains an\ninstalled version of the Phylum CLI and all required tools needed for ",(0,r.jsx)(n.a,{href:"/cli/lockfile_generation",children:"lockfile generation"}),".\nAn advantage of using the default Docker image is that the complete environment is packaged and made available\nwith components that are known to work together."]}),"\n",(0,r.jsxs)(n.p,{children:["One disadvantage to the default image is it's size. It can take a while to download and may provide more\ntools than required for your specific use case. Special ",(0,r.jsx)(n.code,{children:"slim"})," tags of the ",(0,r.jsx)(n.code,{children:"phylum-ci"})," image are provided as\nan alternative. These tags differ from the default image in that they do not contain the required tools needed\nfor ",(0,r.jsx)(n.a,{href:"/cli/lockfile_generation",children:"lockfile generation"})," (with the exception of the ",(0,r.jsx)(n.code,{children:"pip"})," tool). The ",(0,r.jsx)(n.code,{children:"slim"})," tags are\nsignificantly smaller and allow for faster action run times. They are useful for those instances where ",(0,r.jsx)(n.strong,{children:"no"}),"\nmanifest files are present and/or ",(0,r.jsx)(n.strong,{children:"only"})," lockfiles are used."]}),"\n",(0,r.jsx)(n.p,{children:"Here are examples of using the slim image tags:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"  # NOTE: These are examples. Only one image line for `phylum-ci` is expected.\n\n  # Use the most current release of *both* `phylum-ci` and the Phylum CLI\n  image: phylumio/phylum-ci:slim\n\n  # Use the `slim` image with a specific release version of `phylum-ci` and Phylum CLI\n  image: phylumio/phylum-ci:0.42.4-CLIv6.1.2-slim\n"})}),"\n",(0,r.jsxs)(n.p,{children:["See the Docker ",(0,r.jsx)(n.a,{href:"https://support.atlassian.com/bitbucket-cloud/docs/docker-image-options/",children:"image option"})," and ",(0,r.jsx)(n.a,{href:"https://support.atlassian.com/bitbucket-cloud/docs/use-docker-images-as-build-environments/",children:"build environment"})," documentation for more information."]}),"\n",(0,r.jsx)(n.h3,{id:"git-clone-behavior",children:"Git clone behavior"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"git"})," version control system is used within the ",(0,r.jsx)(n.code,{children:"phylum-ci"})," package to do things like determine if there was a\ndependency file change and, when specified, report on new dependencies only. Therefore, a full clone of the\nrepository is required to ensure that the local working copy is always pristine and history is available to pull the\nrequested information."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"    - step:\n        clone:\n          depth: full\n"})}),"\n",(0,r.jsxs)(n.p,{children:["See the ",(0,r.jsx)(n.a,{href:"https://support.atlassian.com/bitbucket-cloud/docs/git-clone-behavior/",children:"git clone behavior"})," documentation for more information."]}),"\n",(0,r.jsx)(n.h3,{id:"script-arguments",children:"Script arguments"}),"\n",(0,r.jsxs)(n.p,{children:["The script arguments to the Docker image are the way to exert control over the execution of the Phylum analysis.\nThe ",(0,r.jsx)(n.code,{children:"phylum-ci"})," script entry point is expected to be called. It has a number of arguments that are all optional\nand defaulted to secure values. To view the arguments, their description, and default values,\nrun the script with ",(0,r.jsx)(n.code,{children:"--help"})," output as specified in the ",(0,r.jsx)(n.a,{href:"https://github.com/phylum-dev/phylum-ci/blob/main/README.md#usage",children:"Usage section of the top-level README.md"})," or\nview the ",(0,r.jsx)(n.a,{href:"https://github.com/phylum-dev/phylum-ci/blob/main/docs/script_options.md",children:"script options output"})," for the latest release."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'  # NOTE: These are examples. Only one script entry line for `phylum-ci` is expected.\n  script:\n    # Use the defaults for all the arguments.\n    # The default behavior is to only analyze newly added dependencies\n    # against the active policy set at the Phylum project level.\n    - phylum-ci\n\n    # Provide debug level output. Highly recommended.\n    - phylum-ci -vv\n\n    # Consider all dependencies in analysis results instead of just the newly added ones.\n    # The default is to only analyze newly added dependencies, which can be useful for\n    # existing code bases that may not meet established policy rules yet,\n    # but don\'t want to make things worse. Specifying `--all-deps` can be useful for\n    # casting the widest net for strict adherence to Quality Assurance (QA) standards.\n    - phylum-ci --all-deps\n\n    # Some lockfile types (e.g., Python/pip `requirements.txt`) are ambiguous in\n    # that they can be named differently and may or may not contain strict\n    # dependencies. In these cases it is best to specify an explicit path, either\n    # with the `--depfile` option or in a `.phylum_project` file. For more, see:\n    # https://docs.phylum.io/knowledge_base/phylum_project_files\n    - phylum-ci --depfile requirements-prod.txt\n\n    # Specify multiple explicit dependency file paths.\n    - phylum-ci --depfile requirements-prod.txt Cargo.toml path/to/dependency.file\n\n    # Exclude dependency files by gitignore-style pattern.\n    - phylum-ci --exclude "requirements-*.txt"\n\n    # Specify multiple exclusion patterns.\n    - phylum-ci --exclude "build.gradle" "tests/fixtures/"\n    - |\n      phylum-ci \\\n        --exclude "/requirements-*.txt" \\\n        --exclude "build.gradle" "fixtures/"\n\n    # Force analysis for all dependencies in a manifest file. This is especially useful\n    # for *workspace* manifest files where there is no companion lockfile (e.g., libraries).\n    - phylum-ci --force-analysis --all-deps --depfile Cargo.toml\n\n    # Perform analysis as part of an organization and/or group-owned project.\n    # When an org is specified, a group name must also be specified.\n    - phylum-ci --org my_org --group my_group\n    - phylum-ci --group my_group\n\n    # Analyze all dependencies in audit mode, to gain insight without failing builds.\n    - phylum-ci --all-deps --audit\n\n    # Ensure the latest Phylum CLI is installed.\n    - phylum-ci --force-install\n\n    # Install a specific version of the Phylum CLI.\n    - phylum-ci --phylum-release 4.8.0 --force-install\n\n    # Mix and match for your specific use case.\n    - |\n      phylum-ci \\\n        -vv \\\n        --org my_org \\\n        --group my_group \\\n        --depfile requirements-dev.txt \\\n        --depfile requirements-prod.txt path/to/dependency.file \\\n        --depfile Cargo.toml \\\n        --force-analysis \\\n        --all-deps\n'})}),"\n",(0,r.jsx)(n.h3,{id:"exit-codes",children:"Exit Codes"}),"\n",(0,r.jsxs)(n.p,{children:["The Phylum analysis step will return a zero (0) exit code when it completes successfully and a non-zero code otherwise.\nThe full and current list of exit codes is ",(0,r.jsx)(n.a,{href:"https://github.com/phylum-dev/phylum-ci#exit-codes",children:"documented here"}),' and "Output Modification"\n',(0,r.jsx)(n.a,{href:"https://github.com/phylum-dev/phylum-ci/blob/main/docs/script_options.md",children:"options exist"})," to be strict or loose with setting them."]}),"\n",(0,r.jsx)(n.h2,{id:"alternatives",children:"Alternatives"}),"\n",(0,r.jsxs)(n.p,{children:["It is also possible to make direct use of the ",(0,r.jsxs)(n.a,{href:"https://pypi.org/project/phylum/",children:[(0,r.jsx)(n.code,{children:"phylum"})," Python package"]})," within CI.\nThis may be necessary if the Docker image is unavailable or undesirable for some reason.\nTo use the ",(0,r.jsx)(n.code,{children:"phylum"})," package, install it and call the desired entry points from a script under your control.\nSee the ",(0,r.jsx)(n.a,{href:"https://github.com/phylum-dev/phylum-ci/blob/main/README.md#installation",children:"Installation"})," and ",(0,r.jsx)(n.a,{href:"https://github.com/phylum-dev/phylum-ci/blob/main/README.md#usage",children:"Usage"})," sections of the ",(0,r.jsx)(n.a,{href:"https://github.com/phylum-dev/phylum-ci/blob/main/README.md",children:"README file"})," for more detail."]})]})}function d(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},5251:function(e,n,t){var i=t(7294),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var i,s={},c=null,u=null;for(i in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(u=n.ref),n)o.call(n,i)&&!a.hasOwnProperty(i)&&(s[i]=n[i]);if(e&&e.defaultProps)for(i in n=e.defaultProps)void 0===s[i]&&(s[i]=n[i]);return{$$typeof:r,type:e,key:c,ref:u,props:s,_owner:l.current}}n.Fragment=s,n.jsx=c,n.jsxs=c},2408:function(e,n){var t=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator,m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,y={};function g(e,n,t){this.props=e,this.context=n,this.refs=y,this.updater=t||m}function b(){}function x(e,n,t){this.props=e,this.context=n,this.refs=y,this.updater=t||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,n){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var j=x.prototype=new b;j.constructor=x,f(j,g.prototype),j.isPureReactComponent=!0;var v=Array.isArray,k=Object.prototype.hasOwnProperty,w={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function P(e,n,i){var r,s={},o=null,l=null;if(null!=n)for(r in void 0!==n.ref&&(l=n.ref),void 0!==n.key&&(o=""+n.key),n)k.call(n,r)&&!_.hasOwnProperty(r)&&(s[r]=n[r]);var a=arguments.length-2;if(1===a)s.children=i;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===s[r]&&(s[r]=a[r]);return{$$typeof:t,type:e,key:o,ref:l,props:s,_owner:w.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var E=/\/+/g;function C(e,n){var t,i;return"object"==typeof e&&null!==e&&null!=e.key?(t=""+e.key,i={"=":"=0",":":"=2"},"$"+t.replace(/[=:]/g,function(e){return i[e]})):n.toString(36)}function S(e,n,r){if(null==e)return e;var s=[],o=0;return!function e(n,r,s,o,l){var a,c,u,d=typeof n;("undefined"===d||"boolean"===d)&&(n=null);var h=!1;if(null===n)h=!0;else switch(d){case"string":case"number":h=!0;break;case"object":switch(n.$$typeof){case t:case i:h=!0}}if(h)return l=l(h=n),n=""===o?"."+C(h,0):o,v(l)?(s="",null!=n&&(s=n.replace(E,"$&/")+"/"),e(l,r,s,"",function(e){return e})):null!=l&&(T(l)&&(a=l,c=s+(!l.key||h&&h.key===l.key?"":(""+l.key).replace(E,"$&/")+"/")+n,l={$$typeof:t,type:a.type,key:c,ref:a.ref,props:a.props,_owner:a._owner}),r.push(l)),1;if(h=0,o=""===o?".":o+":",v(n))for(var m=0;m<n.length;m++){var f=o+C(d=n[m],m);h+=e(d,r,s,f,l)}else if("function"==typeof(f=null===(u=n)||"object"!=typeof u?null:"function"==typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(n=f.call(n),m=0;!(d=n.next()).done;)f=o+C(d=d.value,m++),h+=e(d,r,s,f,l);else if("object"===d)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(r=String(n))?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return h}(e,s,"","",function(e){return n.call(r,e,o++)}),s}function I(e){if(-1===e._status){var n=e._result;(n=n()).then(function(n){(0===e._status||-1===e._status)&&(e._status=1,e._result=n)},function(n){(0===e._status||-1===e._status)&&(e._status=2,e._result=n)}),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},q={transition:null};function R(){throw Error("act(...) is not supported in production builds of React.")}n.Children={map:S,forEach:function(e,n,t){S(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return S(e,function(){n++}),n},toArray:function(e){return S(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=g,n.Fragment=r,n.Profiler=o,n.PureComponent=x,n.StrictMode=s,n.Suspense=u,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:q,ReactCurrentOwner:w},n.act=R,n.cloneElement=function(e,n,i){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f({},e.props),s=e.key,o=e.ref,l=e._owner;if(null!=n){if(void 0!==n.ref&&(o=n.ref,l=w.current),void 0!==n.key&&(s=""+n.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in n)k.call(n,c)&&!_.hasOwnProperty(c)&&(r[c]=void 0===n[c]&&void 0!==a?a[c]:n[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:t,type:e.type,key:s,ref:o,props:r,_owner:l}},n.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},n.createElement=P,n.createFactory=function(e){var n=P.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:c,render:e}},n.isValidElement=T,n.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},n.memo=function(e,n){return{$$typeof:d,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=q.transition;q.transition={};try{e()}finally{q.transition=n}},n.unstable_act=R,n.useCallback=function(e,n){return A.current.useCallback(e,n)},n.useContext=function(e){return A.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return A.current.useDeferredValue(e)},n.useEffect=function(e,n){return A.current.useEffect(e,n)},n.useId=function(){return A.current.useId()},n.useImperativeHandle=function(e,n,t){return A.current.useImperativeHandle(e,n,t)},n.useInsertionEffect=function(e,n){return A.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return A.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return A.current.useMemo(e,n)},n.useReducer=function(e,n,t){return A.current.useReducer(e,n,t)},n.useRef=function(e){return A.current.useRef(e)},n.useState=function(e){return A.current.useState(e)},n.useSyncExternalStore=function(e,n,t){return A.current.useSyncExternalStore(e,n,t)},n.useTransition=function(){return A.current.useTransition()},n.version="18.3.1"},7294:function(e,n,t){e.exports=t(2408)},5893:function(e,n,t){e.exports=t(5251)},65:function(e,n,t){t.d(n,{Z:()=>l,a:()=>o});var i=t(7294);let r={},s=i.createContext(r);function o(e){let n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);