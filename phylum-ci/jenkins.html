<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-phylum-ci/jenkins" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Jenkins Pipelines Integration | Phylum Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.phylum.io/phylum-ci/jenkins"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Jenkins Pipelines Integration | Phylum Documentation"><meta data-rh="true" name="description" content="Quickstart"><meta data-rh="true" property="og:description" content="Quickstart"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.phylum.io/phylum-ci/jenkins"><link data-rh="true" rel="alternate" href="https://docs.phylum.io/phylum-ci/jenkins" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.phylum.io/phylum-ci/jenkins" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.18075954.css">
<script src="/assets/js/runtime~main.e44ded94.js" defer="defer"></script>
<script src="/assets/js/main.53829f60.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#3480eb;color:#fff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Welcome to the new Phylum documentation!</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/phylum_logo.svg" alt="Phylum Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/phylum_logo.svg" alt="Phylum Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Phylum Docs</b></a><a class="navbar__item navbar__link" href="/">Docs</a><a href="https://api.phylum.io/api/v0/swagger/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/phylum-dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Jenkins Pipelines Integration</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quickstart">Quickstart<a class="hash-link" aria-label="Direct link to Quickstart" title="Direct link to Quickstart" href="/phylum-ci/jenkins#quickstart">​</a></h2>
<ol>
<li>
<p>Create a new &quot;secret text&quot; <a href="https://www.jenkins.io/doc/book/using/using-credentials/" target="_blank" rel="noopener noreferrer">credential</a> containing a <a href="/knowledge_base/api-keys">Phylum authentication token</a>.
The credential ID should be specified since it will be used in the <code>Jenkinsfile</code> (e.g., <code>phylum-token</code>).</p>
</li>
<li>
<p>Add the following &quot;Phylum&quot; stage to an existing <code>Jenkinsfile</code> declarative pipeline configuration:</p>
</li>
</ol>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">        stage(&#x27;Phylum&#x27;) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            agent {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                docker {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    image &#x27;phylumio/phylum-ci:latest&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    alwaysPull true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            environment {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                // The environment variable must be named like</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                // this but the credential ID can be different.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                PHYLUM_API_KEY = credentials(&#x27;phylum-token&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            steps {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                // The `--force-analysis` and `--all-deps` flags</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                // are needed because this configuration has no</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                // history available for computing changes.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                sh &#x27;phylum-ci -vv --force-analysis --all-deps&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>⚠️ <strong>INFO</strong> ⚠️</p>
<p>This is a limited configuration that provides the current state of <strong>all</strong> dependencies.
It does not account for newly added or modified dependencies like would be found in a branch or pull request.
Please see the rest of this documentation for more comprehensive configuration options.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" href="/phylum-ci/jenkins#overview">​</a></h2>
<p>Once configured for a repository as part of a multibranch pipeline project, the Jenkins Pipelines integration will
provide analysis of project dependencies from manifests and lockfiles. This can happen as a result of a commit or a
pull request (PR).</p>
<p>For PR pipelines, analyzed dependencies will include any that are added/modified in the PR. For branch pipelines, the
analyzed dependencies will be determined by comparing dependency files in the branch to the default branch. <strong>All</strong>
dependencies will be analyzed when the branch pipeline is run on the default branch.</p>
<p>Results are provided in the pipeline logs. The CI job will return an error (i.e., fail the build) if any of the
analyzed dependencies fail to meet the established policy unless audit mode is specified. If one or more dependencies
are still processing (no results available), then the logs will make that clear and the CI job will only fail if
dependencies that have <em>completed analysis results</em> do not meet the active policy.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" href="/phylum-ci/jenkins#prerequisites">​</a></h2>
<p>Jenkins is supported for multibranch pipelines through the use of a Docker image.
The prerequisites for using this image are:</p>
<ul>
<li>Access to the <a href="https://hub.docker.com/r/phylumio/phylum-ci/tags" target="_blank" rel="noopener noreferrer"><code>phylumio/phylum-ci</code> Docker image</a></li>
<li>A <a href="/knowledge_base/api-keys">Phylum token</a> with API access
<ul>
<li><a href="https://phylum.io/contact-us/" target="_blank" rel="noopener noreferrer">Contact Phylum</a> or <a href="https://app.phylum.io/register" target="_blank" rel="noopener noreferrer">register</a> to gain access
<ul>
<li>See also <a href="/cli/commands/phylum_auth_register"><code>phylum auth register</code></a> command documentation</li>
</ul>
</li>
<li>Consider using a bot or group account for this token</li>
</ul>
</li>
<li>Access to the Phylum API endpoints
<ul>
<li>That usually means a connection to the internet, optionally via a proxy</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configure-jenkinsfile">Configure <code>Jenkinsfile</code><a class="hash-link" aria-label="Direct link to configure-jenkinsfile" title="Direct link to configure-jenkinsfile" href="/phylum-ci/jenkins#configure-jenkinsfile">​</a></h2>
<p>Phylum analysis of dependencies can be added to existing pipelines or on it&#x27;s own with this minimal declarative
pipeline configuration:</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">pipeline {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    agent none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    stages {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        stage(&#x27;Phylum&#x27;) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            agent {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                docker {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    image &#x27;phylumio/phylum-ci:latest&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    alwaysPull true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            environment {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                PHYLUM_API_KEY = credentials(&#x27;phylum-token&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            options {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                // This is optional but may save time since</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                // a full checkout is needed later.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                skipDefaultCheckout()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            steps {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                checkout scmGit(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    branches: [[name: &#x27;**&#x27;]],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    extensions: [cleanBeforeCheckout()],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Change to match your repository URL and creds.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    userRemoteConfigs: [[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        credentialsId: &#x27;CHANGEME&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        url: &#x27;https://github.com/CHANGEME/CHANGEME.git&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    ]]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                withCredentials([gitUsernamePassword(credentialsId: &#x27;CHANGEME&#x27;, gitToolName: &#x27;Default&#x27;)]) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    sh &#x27;phylum-ci -vv&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            post {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                always {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Cleaning the workspace ensures the git</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // checkout is valid for future runs.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    cleanWs()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This configuration contains a single stage named &quot;Phylum&quot; which executes from a custom Docker image. It will run for
<em>all</em> pull requests and pushes to <em>any</em> branch. It provides debug output but otherwise does not override any of
the <code>phylum-ci</code> arguments, which are all either optional or default to secure values. Let&#x27;s take a deeper dive into
each part of the configuration:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-image-selection">Docker image selection<a class="hash-link" aria-label="Direct link to Docker image selection" title="Direct link to Docker image selection" href="/phylum-ci/jenkins#docker-image-selection">​</a></h3>
<p>Choose the Docker image tag to match your comfort level with image dependencies. <code>latest</code> is a &quot;rolling&quot; tag that
will point to the image created for the latest released <code>phylum-ci</code> Python package. A particular version tag
(e.g., <code>0.42.4-CLIv6.1.2</code>) is created for each release of the <code>phylum-ci</code> Python package and <em>should</em> not change
once published.</p>
<p>However, to be certain that the image does not change...or be warned when it does because it won&#x27;t be available
anymore...use the SHA256 digest of the tag. The digest can be found by looking at the <code>phylumio/phylum-ci</code>
<a href="https://hub.docker.com/r/phylumio/phylum-ci/tags" target="_blank" rel="noopener noreferrer">tags on Docker Hub</a> or with the command:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># NOTE: The command-line JSON processor `jq` is used here for the sake of a one line example. It is not required.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">❯ </span><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> manifest inspect </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--verbose</span><span class="token plain"> phylumio/phylum-ci:0.42.4-CLIv6.1.2 </span><span class="token operator">|</span><span class="token plain"> jq .Descriptor.digest</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sha256:77b761ccef10edc28b0f009a40fbeab240bf004522edaaea05572dc3728b6ca6&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For instance, at the time of this writing, all of these tag references pointed to the same image:</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">            agent {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                docker {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // NOTE: These are examples. Only one image line for `phylum-ci` is expected.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    //</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Not specifying a tag means a default of `latest`</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    image &#x27;phylumio/phylum-ci&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Be more explicit about wanting the `latest` tag</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    image &#x27;phylumio/phylum-ci:latest&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Use a specific release version of the `phylum-ci` package</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    image &#x27;phylumio/phylum-ci:0.42.4-CLIv6.1.2&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Use a specific image with it&#x27;s SHA256 digest</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    image &#x27;phylumio/phylum-ci@sha256:77b761ccef10edc28b0f009a40fbeab240bf004522edaaea05572dc3728b6ca6&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // This option is useful when image is NOT specified by hash</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    alwaysPull true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Only the last tag reference, by SHA256 digest, is guaranteed to not have the underlying image it points to change.
If digest references are not used, it is recommended to enable the setting to always pull the image, especially if the
&quot;latest&quot; tag is configured. That way, the latest changes will be used instead of the ones when the tag was first pulled.</p>
<p>The default <code>phylum-ci</code> Docker image contains <code>git</code> and the installed <code>phylum</code> Python package. It also contains an
installed version of the Phylum CLI and all required tools needed for <a href="/cli/lockfile_generation">lockfile generation</a>.
An advantage of using the default Docker image is that the complete environment is packaged and made available
with components that are known to work together.</p>
<p>One disadvantage to the default image is it&#x27;s size. It can take a while to download and may provide more
tools than required for your specific use case. Special <code>slim</code> tags of the <code>phylum-ci</code> image are provided as
an alternative. These tags differ from the default image in that they do not contain the required tools needed
for <a href="/cli/lockfile_generation">lockfile generation</a> (with the exception of the <code>pip</code> tool). The <code>slim</code> tags are
significantly smaller and allow for faster action run times. They are useful for those instances where <strong>no</strong>
manifest files are present and/or <strong>only</strong> lockfiles are used.</p>
<p>Here are examples of using the slim image tags:</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">            agent {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                docker {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // NOTE: These are examples. Only one image line for `phylum-ci` is expected.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    //</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Use the most current release of *both* `phylum-ci` and the Phylum CLI</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    image &#x27;phylumio/phylum-ci:slim&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Use the `slim` image with a specific release version of `phylum-ci` and Phylum CLI</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    image &#x27;phylumio/phylum-ci:0.42.4-CLIv6.1.2-slim&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // This option is useful when image is NOT specified by hash</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    alwaysPull true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>See the documentation for <a href="https://www.jenkins.io/doc/book/pipeline/docker/" target="_blank" rel="noopener noreferrer">using Docker with Pipeline</a> more information.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-defined-variables">User-defined variables<a class="hash-link" aria-label="Direct link to User-defined variables" title="Direct link to User-defined variables" href="/phylum-ci/jenkins#user-defined-variables">​</a></h3>
<p>A <a href="/knowledge_base/api-keys">Phylum token</a> with API access is required to perform analysis on project dependencies.
<a href="https://phylum.io/contact-us/" target="_blank" rel="noopener noreferrer">Contact Phylum</a> or <a href="https://app.phylum.io/register" target="_blank" rel="noopener noreferrer">register</a> to gain access.
See also <a href="/cli/commands/phylum_auth_register"><code>phylum auth register</code></a> command documentation and consider using a bot or group account
for this token.</p>
<p>Provide the token value in a <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#setting-environment-variables" target="_blank" rel="noopener noreferrer">user-defined variable</a> named <code>PHYLUM_API_KEY</code>, set at the stage level or
higher. The value for this variable is sensitive and should be set as a secret text <a href="https://www.jenkins.io/doc/book/using/using-credentials/" target="_blank" rel="noopener noreferrer">credential</a>.
<strong>Care should be taken to protect it appropriately</strong>.</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">            environment {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                // Variable must be named `PHYLUM_API_KEY`</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                // but the credential ID can be different.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                PHYLUM_API_KEY = credentials(&#x27;phylum-token&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-checkout-step">Git checkout step<a class="hash-link" aria-label="Direct link to Git checkout step" title="Direct link to Git checkout step" href="/phylum-ci/jenkins#git-checkout-step">​</a></h3>
<p>The <code>git</code> version control system is used within the <code>phylum-ci</code> package to do things like determine if there was a
dependency file change and, when specified, report on new dependencies only. Therefore, a full clone of the
repository is required to ensure that the local working copy is always pristine and history is available to pull the
requested information.</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">            steps {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                // A full checkout is needed to provide history and proper diffs.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                // A `checkout scm` step is not enough here.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                checkout scmGit(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    branches: [[name: &#x27;**&#x27;]],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    extensions: [cleanBeforeCheckout()],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Change to match your repository URL and creds.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    userRemoteConfigs: [[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        credentialsId: &#x27;CHANGEME&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        url: &#x27;https://github.com/CHANGEME/CHANGEME.git&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    ]]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>See the <a href="https://www.jenkins.io/doc/pipeline/steps/workflow-scm-step/" target="_blank" rel="noopener noreferrer">checkout step</a> and <a href="https://plugins.jenkins.io/workflow-scm-step/" target="_blank" rel="noopener noreferrer">checkout plugin</a> documentation for more information.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="phylum-ci-step-arguments"><code>phylum-ci</code> step arguments<a class="hash-link" aria-label="Direct link to phylum-ci-step-arguments" title="Direct link to phylum-ci-step-arguments" href="/phylum-ci/jenkins#phylum-ci-step-arguments">​</a></h3>
<p>The arguments to the <code>phylum-ci</code> script are the way to exert control over the execution of the Phylum analysis.
The <code>phylum-ci</code> script entry point has a number of arguments that are all optional and defaulted to secure values.
To view the arguments, their description, and default values, run the script with <code>--help</code> output as specified in the
<a href="https://github.com/phylum-dev/phylum-ci/blob/main/README.md#usage" target="_blank" rel="noopener noreferrer">Usage section of the top-level README.md</a> or view the <a href="https://github.com/phylum-dev/phylum-ci/blob/main/docs/script_options.md" target="_blank" rel="noopener noreferrer">script options output</a> for the latest
release.</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">            steps {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                // This block is needed for change detection and using</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                // authenticated git commands. Change the `credentialsId`.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                withCredentials([gitUsernamePassword(credentialsId: &#x27;CHANGEME&#x27;, gitToolName: &#x27;Default&#x27;)]) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // NOTE: These are examples. Only one `phylum-ci` entry is expected.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    //</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Use the defaults for all the arguments.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // The default behavior is to only analyze newly added dependencies</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // against the active policy set at the Phylum project level.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    sh &#x27;phylum-ci&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Provide debug level output. Highly recommended.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    sh &#x27;phylum-ci -vv&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Consider all dependencies in analysis results instead of just the newly added ones.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // The default is to only analyze newly added dependencies, which can be useful for</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // existing code bases that may not meet established policy rules yet,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // but don&#x27;t want to make things worse. Specifying `--all-deps` can be useful for</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // casting the widest net for strict adherence to Quality Assurance (QA) standards.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    sh &#x27;phylum-ci --all-deps&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Some lockfile types (e.g., Python/pip `requirements.txt`) are ambiguous in that</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // they can be named differently and may or may not contain strict dependencies.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // In these cases it is best to specify an explicit path, either with the `--depfile`</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // option or in a `.phylum_project` file. The easiest way to do that is with the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Phylum CLI, using `phylum init` command (docs.phylum.io/cli/commands/phylum_init)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // and committing the generated `.phylum_project` file.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    sh &#x27;phylum-ci --depfile requirements-prod.txt&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Specify multiple explicit dependency file paths.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    sh &#x27;phylum-ci --depfile requirements-prod.txt Cargo.toml path/to/dependency.file&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Force analysis for all dependencies in a manifest file. This is especially useful</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // for *workspace* manifest files where there is no companion lockfile (e.g., libraries).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    sh &#x27;phylum-ci --force-analysis --all-deps --depfile Cargo.toml&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Analyze all dependencies in audit mode, to gain insight without failing builds.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    sh &#x27;phylum-ci --all-deps --audit&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Ensure the latest Phylum CLI is installed.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    sh &#x27;phylum-ci --force-install&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Install a specific version of the Phylum CLI.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    sh &#x27;phylum-ci --phylum-release 6.4.0 --force-install&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    // Mix and match for your specific use case.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    sh &#x27;phylum-ci \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        -vv \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        --depfile requirements-dev.txt \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        --depfile requirements-prod.txt path/to/dependency.file \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        --depfile Cargo.toml \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        --force-analysis \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        --all-deps&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="alternatives">Alternatives<a class="hash-link" aria-label="Direct link to Alternatives" title="Direct link to Alternatives" href="/phylum-ci/jenkins#alternatives">​</a></h2>
<p>There are times where it may not be possible to have full git history with a complete checkout. It may also be the case
that a complete checkout is undesirable due to the extra time it takes. For these situation, or if using a &quot;standard&quot;
or &quot;standalone&quot; pipeline configuration, the solution is to force analysis of all current dependencies so that no history
is needed. This is done with the following flags:</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">            steps {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                // Force analysis for all current dependencies.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                sh &#x27;phylum-ci --force-analysis --all-deps&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It is also possible to make direct use of the <a href="https://pypi.org/project/phylum/" target="_blank" rel="noopener noreferrer"><code>phylum</code> Python package</a> within CI.
This may be necessary if the Docker image is unavailable or undesirable for some reason.
To use the <code>phylum</code> package, install it and call the desired entry points from a script under your control.
See the <a href="https://github.com/phylum-dev/phylum-ci/blob/main/README.md#installation" target="_blank" rel="noopener noreferrer">Installation</a> and <a href="https://github.com/phylum-dev/phylum-ci/blob/main/README.md#usage" target="_blank" rel="noopener noreferrer">Usage</a> sections of the <a href="https://github.com/phylum-dev/phylum-ci/blob/main/README.md" target="_blank" rel="noopener noreferrer">README file</a> for more detail.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/phylum-dev/phylum-ci/edit/main/docs/integrations/jenkins.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-06-12T20:48:56.000Z" itemprop="dateModified">Jun 12, 2024</time></b> by <b>Charles Coggins</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/phylum-ci/jenkins#quickstart">Quickstart</a></li><li><a class="table-of-contents__link toc-highlight" href="/phylum-ci/jenkins#overview">Overview</a></li><li><a class="table-of-contents__link toc-highlight" href="/phylum-ci/jenkins#prerequisites">Prerequisites</a></li><li><a class="table-of-contents__link toc-highlight" href="/phylum-ci/jenkins#configure-jenkinsfile">Configure <code>Jenkinsfile</code></a><ul><li><a class="table-of-contents__link toc-highlight" href="/phylum-ci/jenkins#docker-image-selection">Docker image selection</a></li><li><a class="table-of-contents__link toc-highlight" href="/phylum-ci/jenkins#user-defined-variables">User-defined variables</a></li><li><a class="table-of-contents__link toc-highlight" href="/phylum-ci/jenkins#git-checkout-step">Git checkout step</a></li><li><a class="table-of-contents__link toc-highlight" href="/phylum-ci/jenkins#phylum-ci-step-arguments"><code>phylum-ci</code> step arguments</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/phylum-ci/jenkins#alternatives">Alternatives</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://phylum.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Phylum Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://discord.gg/Fe6pr5eW6p" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://twitter.com/Phylum_IO" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://github.com/phylum-dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://www.youtube.com/@phylum_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://www.linkedin.com/company/phylum-io" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://dev.to/phylum" target="_blank" rel="noopener noreferrer" class="footer__link-item">DEV<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2020-2024 Phylum, Inc.</div></div></div></footer></div>
</body>
</html>